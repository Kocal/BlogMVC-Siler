{% extends 'layout.twig' %}

{% block title 'Homepage' %}

{% block content %}

    <div class="page-header">
        <h1>Blog - {{ block('title') }}</h1>
        <p class="lead">Welcome on my blog</p>
    </div>

    {% for post in posts %}
        <article>
            <h2><a href="/{{ post.slug }}">{{ post.name }}</a></h2>
            <p>
                <small>
                    Category : <a href="/category/{{ post.category.slug }}">{{ post.category.name }}</a>,
                    by <a href="/author/{{ post.user.id }}">{{ post.user.username }}</a> on <em>{{ post.created }}</em>
                </small>
            </p>
            <p>{{ str_words(post.content, 100) }}</p>
            <p class="text-right"><a href="/{{ post.slug }}" class="btn btn-primary">Read more...</a></p>
        </article>

        <hr>
    {% endfor %}

    {{ paginate(pagination) }}
{% endblock %}